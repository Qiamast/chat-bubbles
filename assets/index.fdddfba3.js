var x=Object.defineProperty,C=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var m=(n,e,t)=>e in n?x(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e)=>{for(var t in e||(e={}))N.call(e,t)&&m(n,t,e[t]);if(p)for(var t of p(e))A.call(e,t)&&m(n,t,e[t]);return n},h=(n,e)=>C(n,M(e));import{j as i,u as E,m as S,r as c,a as w,A as D,R,b as k}from"./vendor.30c4f815.js";const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};B();const I=({children:n})=>i("div",{className:"chat",children:n});const L={type:"spring",stiffness:500,damping:50,default:{duration:.5}},O=({id:n,children:e,sender:t,dy:o})=>{const[s,r]=E(),a={layout:!0,initial:"out",style:{position:"static"},animate:"in",variants:{in:{opacity:1,translateY:0},out:{opacity:1,translateY:`${o}px`}},exit:{opacity:0,translateY:0},onAnimationComplete:()=>!s&&r(),transition:L};return i(S.div,h(b({className:"bubble"},a),{children:i("div",{className:"bubble-content",children:e})}),n)};const P=({onChange:n,onSubmit:e,value:t})=>{const o=c.exports.useRef(),s=c.exports.useRef(),[r,a]=c.exports.useState(!1),u=l=>{const{current:g}=s,{current:f}=o,{isComposing:y}=l.nativeEvent;if(l.key==="Enter"&&!y){const v=g.clientHeight;e&&e(v),l.preventDefault(),a(!0),requestAnimationFrame(()=>{f.focus(),f.innerText="",a(!1)})}},d=c.exports.useCallback(()=>{const{current:l}=o;l&&l.focus()},[o]);return c.exports.useEffect(d,[d]),i("div",{ref:s,className:`bubble input  ${t.length===0?"empty":""} ${r?"submitted":""}`,children:i("div",{ref:o,className:"bubble-content",contentEditable:!0,spellCheck:"false",onBlur:d,onKeyDown:u,onInput:l=>n(l.target.innerText)})})},T=(n=[])=>{const[e,t]=c.exports.useState(n),o=c.exports.useCallback(s=>{t(r=>[...r,s]),setTimeout(()=>{t(r=>{const a=[...r];return a.shift(),a})},15e3)},[t]);return[e,o]};function $(){const[n,e]=T([]),[t,o]=c.exports.useState(""),s=c.exports.useCallback(u=>{t.length>0&&(e({id:+new Date,text:t,height:u}),o(""))},[t,n]),r=n[n.length-1],a=r?r.height:0;return i("div",{className:"App",children:w(I,{children:[i(D,{children:n.map(u=>i(O,{id:u.id,dy:a,children:u.text},u.id))}),i(P,{value:t,onChange:o,onSubmit:s})]})})}R.render(i(k.StrictMode,{children:i($,{})}),document.getElementById("root"));
